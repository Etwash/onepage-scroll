const chaptersData = [
    {
        title: "Chapter 1: Introduction",
        pages: [
            {
                title: "CONSTRUCTIVE DESIGN RESEARCH",
                content: "iFloor was an interactive floor built between 2002 and 2004 in Aarhus, Denmark. It was a design research project with par ticipants from architecture, design, and computer science. It was successful in many ways: it produced two doctoral theses and about 20 peer-reviewed papers in scientific conferences, and led to other technological studies. In 2004, the project received a national architectural prize from the Danish Design Center. At the heart of iFloor was an interactive floor built into the main lobby of the city library in Aarhus. Visitors could use mobile phones and computers to send questions to a system that pro jected them to the floor with a data projector. The system also tracked movement on the floor with a camera. Like the data pro jector, the camera was mounted into the ceiling. With an algo rithm, the system analyzed social action on the floor and sent back this information to the system. If you wanted to get your question brought up in the floor, you had to talk to other people to get help in finding books. iFloor’s purpose was to bring interaction back to the library. The word “back” here is very meaningful. Information tech nology may have dramatically improved our access to infor mation, but it has also taken something crucial away from the library experience — social interaction. In the 1990s, a typi cal visit to the library involved talking to librarians and also other visitors; today a typical visit consists of barely more than ordering a book through the Web, hauling it from a shelf, and loaning it with a machine. Important experience is lost, and serendipity — the wonderful feeling of discovering books you had never heard about while browsing the shelves — has almost been lost. A blog or a discussion forum was not the solution. After all, interaction in blogs is mediated. Something physical was needed to connect people. A floor that would do this job was developed at the University of Aarhus through the typical design process.1 The left row of Figure 1.1 is an image from a summer workshop in 2002, in which the concept was first developed. The second picture is from a bodystorm2 in which the floor’s behaviors were mocked up with a paper prototype to get a better grasp of the proposed idea. Site visits with librarians followed, while technical prototyp ing took place in a computer science laboratory at the university (left row, pictures 3–5). The system was finally installed in the library (left row, picture at the bottom). How iFloor was supposed to function is illustrated in the computer-generated image on the right side of the picture. iFloor received lots of media attention; it was introduced to Danish royalty, and it was submitted to the Danish Architecture Prize competition where it was awarded the prize for vision ary products (Figure 1.2). In addition, as already mentioned, it was reported to international audiences in several scientific and design conferences. However, only half the research work was done when the sys tem was working in the library. To see how it functioned, research ers stayed in the library for two weeks, observing and videotaping interaction with the floor (Figure 1.3). It was this meticulous atten tion to how people worked with the iFloor that pushed it beyond mere design. This study produced data that were used in many dif ferent ways, not just to make the prototype better, as would have happened in design practice. Developing the iFloor also led to two doctoral theses: one focusing more on design and technology, another focus ing mostly on how people interacted with the floor.3 Andreas Lykke-Olesen focused on technology, and Martin Ludvigsen’s key papers tried to understand how people noticed the floor, entered it, and how they started conversations while on it. It was this theoretical work that turned iFloor from a design exercise into research that produced knowledge that can be applied else where. In design philosopher Richard Buchanan’s terminology, it was not just a piece of clinical research; it had a hint of basic research.4 iFloor is a good example of research in which planning and doing, reason, and action are not separate.5 For researchers, maybe the most important concept iFloor exhibits is that there is value in doing things. When researchers actually construct something, they find problems and discover things that would otherwise go unnoticed. These observations unleash wisdom, countering a typical academic tendency to value thinking and discourse over doing. A PowerPoint presentation or a CAD ren dering would not have had this power."
            },
            {
                title: "Beyond Research Through Design",
                content: "Usually, a research project like iFloor is seen as an example of “research through design.” This term has its origins in a working paper by Christopher Frayling, then the rector of London’s Royal College of Art (RCA)6. Jodi Forlizzi and John Zimmerman from Carnegie Mellon recently interviewed several experts to find defi nitions and exemplars of research through design. According to their survey, researchers.However, this concept has been criticized for its many prob lems. Alain Findeli and Wolfgang Jonas, among others, noted that any research needs strong theory to guide practice, but this is missing from Frayling’s paper.8 For Jonas, Frayling’s definitions remained fuzzy. Readers get few guidelines as to how to proceed and are left to their own devices to muddle through the terrain. Jonas also says that the term provides little guidance for building up a working research practice — and he is no doubt right. This concept fails to appreciate many things at work behind any successful piece of research. For example, the influential studies of Katja Battarbee and Pieter Desmet made important conceptual and methodological contributions in their respective programs, even though, strictly speaking, they were theoretical and methodologi cal rather than constructive in nature. People read Kees Overbeeke’s writings not because he builds things but because he has articulated many valuable ideas about interaction in his programmatic and the oretical writings. People read Bill Gaver because of his contribution to design as well as methodology, often against his wishes.9 For these reasons, we prefer to talk about “constructive design research,” which refers to design research in which con struction — be it product, system, space, or media — takes cen ter place and becomes the key means in constructing knowledge (Figure 1.4). Typically, this “thing” in the middle is a prototype  like iFloor. However, it can be also be a scenario, a mock-up, or just a detailed concept that could be constructed. We focus on leading examples of constructive research but fol low Frayling’s empiricist and pragmatist approach rather than offer a definition grounded in logic or theory.10 By now, we have a luxury: a body of research that does most of the things that Findeli and Jonas called forth. When looking at the 1990s, it is clear that what people like Tom Djajadiningrat in the Netherlands, Anthony Dunne in England, and Simo Säde in Finland did in their doctoral work was solid, theoretically and methodically informed research that could not have been done without a design background.11 Ten years later, there are dozens of good examples. For this reason, we explicate practice rather than try to define a field with concepts as big as design and research.12 Introducing a new word is an old aca demic trick used to avoid difficulties with existing concepts and to keep discussion open, if only for a few years."
            },
            {
                title: " Constructive Research in Design Research",
                content: "This book looks at one type of contemporary design research. It excludes many other types, including research done in art and design history, aesthetics, and philosophy. It also skips over work done in the social sciences and design management. It leaves practice-based research integrating art and research to others. Similarly, it barely touches engineering and leaves out theory, semantics, and semiotics altogether.13 This book will not look at research done by design researchers if there is no construction involved, unless there is a clear connection to constructive studies.14 Finally, it will not review design research that builds on the natural sciences such as chemistry as this research is most typically done in ceramics and sometimes in glass design and conservation. We are dealing with research that imagines and builds new things and describes and explains these constructions (Figure 1.5).15 What constructive design research imports to this larger picture is experience in how to integrate design and research. Currently, there is a great deal of interest in what is the best way to integrate these worlds. This book shows that there are indeed many ways to achieve such integration and still be successful. We are hoping that design researchers in other fields find precedents and models in this book that help them to better plan construc tive studies. For constructive design researchers, we provide ways to justify methodological choices and understand these choices. It should be obvious that we talk about construction, not con structivism, as is done in philosophy and the social sciences. Constructivists are people who claim issues such as knowledge and society are constructed rather than, say, organized func tionally around certain purposes, as if in a body or in a piece of machinery.16 Many designers are certainly constructivists in a theoretical and philosophical sense, but this is not our concern. We focus on something far more concrete, that is, research like iFloor in which something is actually built and put to use. Not only concepts, but materials. Not just bits, but atoms. One of the concerns many design writers have is that design does not have a theoretical tradition.17 For us, this is a matter of time rather than definition. Theory develops when people start to treat particular writings as theories; for example, such as hap pened to Don Norman’s interpretation of affordance. It became a theory when researchers like Gerda Smets and Kees Overbeeke in the Netherlands treated it as such. For this reason, we focus on research programs rather than individual studies. Chapter 3 explains this concept of program in detail. Here, it is enough to say that research programs always have “a central, or core, idea that shapes and structures the research conducted.”18 Programs consist of a variety of activities ranging from individual case studies to methodology and theory building. This richness is lost in definitions of research through design that tend to place too much weight on design at the expense of other important activities that make constructive research possible."
            }
        ]
    },
    {
        title: "Chapter 2: THE COMING OF AGE OF CONSTRUCTIVE DESIGN RESEARCH",
        pages: [
            {
                title: "The User-Centered Turn: Searching the Middle Way",
                content: "Most early writings on design research are built on rational istic assumptions. Perhaps the most ambitious call for basing design on rationalistic thinking came from Herbert Simon, who proposed basing design on systems and operations analysis. For him, design became an exercise in mathematics, and the task of design research was to describe the natural and human rationali ties that govern it.1  Such rationalistic assumptions were particu larly strong in the 1950s and 1960s. At that time, the studio model of the Bauhaus became too limited to respond to the demands of increasingly complex and growing industries. However, rationalistic methods failed to get much of a follow ing in design, probably because they barely tackled the human and artistic faces of design—for example, the “design methods movement,” which bloomed for a few years in the 1960s mainly in the United States and England.2  Writing at the end of the 1990s, Swedish designer Henrik Gedenryd noted how this move ment built on operations research and systems theory, trying to lay the foundations for design on logic, rationality, abstraction, and rigorous principles. It portrays, or rather prescribes, design as an orderly, stringent procedure which systematically collects information, establishes objectives, and computes the design solution, following the principles of logi cal deduction and mathematical optimization models…. This view is still very much alive, and there is a good reason to believe that this won’t change for a long time. However, discontent with this approach is widespread and quite old, even though no substantive replacement has yet been proposed. Experience from design practice and from studies of authentic design processes has consistently been that not only don’t designers work as design methodology says they should, it is also"
            },
            {
                title: "Page 2",
                content: "After the demise of the design methods movement, design ers turned to the behavioral and social sciences in their search to find new beginnings. In several places, user-centered design gained a foothold.18 In terms used by Nelson and Stolterman, the rationalists were idealists in their search for truth. When this search was over, the next place to look at was the real world.19 This step was not radical, given designers’ self-image. Designers have long seen themselves as speakers for people in the industry. The global organization for industrial designers, ICSID, defines the basic ethos of the occupation as follows: Design is a creative activity whose aim is to establish the multi faceted qualities of objects, processes, services and their systems in whole life cycles. Therefore, design is the central factor of innova tive humanization of technologies and the crucial factor of cul tural and economic exchange.20 As this definition shows, designers see themselves as propo nents of people in the industry. This self-image has more than a grain of truth, especially when designers are compared to engi neers.21 This self-image has deep historical roots. The impor tance of studying people was first forcefully introduced to design in post-war America, largely through practitioners like Henry Dreyfuss, one of the founding fathers of design ergonomics. In particular, Dreyfuss’ books Designing for People and Measures of Man influenced generations of designers.22 However, it was in the 1990s that industrial design and the emerg ing interaction design went through the so-called user-centered turn. The key idea was that everyone has expertise of some kind and, hence, can inspire design. In retrospect, the most important ideas from this time built on usability and user-centered design. Usability fell on the fertile ground of ergonomics and spread quickly. Its roots go back to the early 1980s, with companies such as Digital Equipment Corporation and IBM at the forefront. Early on, usability was divided into two camps: practical engineers and researchers whose backgrounds were usually in cognitive psy chology.23 Usability laboratories popped up in hi-tech companies and universities in North America, Japan, and Europe, and the academic community grew rapidly. Practitioners built on books like Usability Engineering by Jacob Nielsen, while the more aca demic field was reading books like Don Norman’s The Design of Everyday Things.24 The problem with usability was that, while it did help to man age design problems with increasingly complex information technologies, it did little to inform design about the “context” — the environment in which some piece of design was meant to do its work. The image of a human being was that of an informa tion processor, a cybernetic servomechanism.25 Context was but a variable in these mechanisms. New, more open methods were developed, and they came from ethnography. The design industry started to hire ethnographers in the 1970s, f irst in the Midwest and the Chicago area and slightly later in California.26 The best known pioneers were Rick Robinson work ing for Jay Doblin and later E-Lab, and its marketing-oriented rival Cheskin. Interval Research at Stanford, funded by Microsoft’s Paul Allen, hired John Hughes and Bonnie Johnson to teach fieldwork. Several anthropologists were hired by major companies in the 1990s, including Apple (1994) and Intel (1996). Another inspiration was fieldwork done in design firms like IDEO and Fitch. These were quick and rough ethnographies done very early in the design process for inspiration and provided a vision that worked as “glue” in long and arduous product development processes. Yet another American precursor was Xerox PARC, where design was infused with ethno graphic techniques, ethnomethodology, and conversation analy sis.27 Through PARC, ethnomethodology influenced a field called “computer-supported collaborative work” (CSCW). The aims of much of this work were summarized by Peggy Szymanski and Jack Whalen:."
            },
            {
                title: "Beyond the User",
                content: "Despite these limitations, user-centered design created pow erful tools for understanding people and creating designs that work. However, it was just as obvious that it was not able to respond to many interests coming from the more traditional design world. User-centered design methods may have helped to explore context for inspiration, but it left too many important sources of imagination in design unused. Constructive design researchers have had good reasons to go back to contemporary art and design in search of more design specific methods and ways of working (see Figure 2.5). The past 15 years have seen a proliferation of openings that not only build on user-centered design, but also go beyond it. Several research groups have begun to address the problem of creativity with methodic, conceptual, technological, and artistic means.3One push beyond the user was methodic. The 1990s and 2000s saw the growth of “generative” research methods that put design practice at the core of the research process. These design inspired methodologies include experience prototypes, design games, and many types of traditional design tools such as col lages, mood boards, storyboards, pastiche scenarios, scenarios, “personas,” and various types of role-plays.35 There is no shortage of such methods: Froukje Sleeswijk Visser listed 44 user-centered methods in her doctoral thesis at Delft, and IDEO introduced a pack of cards having 52 methods (see Figure 2.6).36 One striking feature of much of this work is the speed at which it has gained influence and has been adopted by its audience even beyond design. In the computer industry, scenarios and personas have become mainstream, while in industrial design, cultural probes, Make Tools, and action research have spread fast.37 These methods have been quickly adapted to a wide vari ety of design work, often with a limited connection to the inten tions of the original work.38 Still, they have given designers ways to research issues like user experience. They also help to open the design process to multiple stakeholders.3."
            }
        ]
    },
    {
        title: "Chapter 3: RESEARCH PROGRAMS",
        pages: [
            {
                title: "Imagination as a Step to Preferred Situations",
                content: "When Herbert Simon famously defined design as an activity that tries to turn existing situations to preferred ones, he pointed out a crucial feature of design — it is future-oriented. Designers are people who are paid to produce visions of better futures and make those futures happen. However, although constructive researchers share Simon’s general aim of improving the future, the way in which they work is different from what he proposed. Writing in the science- optimistic and technocratic post-world America, he was able to build on a very particular version of science. This is hardly viable in recent, more skeptical times in which research is tied to society in far more ways than during the era of Big Science. As the fail ure of the design methods movement suggests, design and design research will fail if they are reduced to a formula. Constructive design researchers do not try to analyze the material world as Simon suggested, nor do they see design as an exercise in rational problem solving. Rather, they imagine new realities and build them to see whether they work. The main cri terion for successful work is whether it is imaginative in design terms. Theirs is a science of the imaginary (see Figure 3.2). For designers, imagination is methodic work rather than a mental activity. They do not produce those futures by themselves, but as a part of a larger community of practitioners ranging from engineers to many types of professionals and other actors. This work takes place in a cycle that begins with an objective of some kind, and continues to user studies. These studies lead to concept creation and building mock-ups and prototypes that are typically evaluated before the cycle begins again.15 There is also another way in which imagination characterizes constructive design research. The things produced by researchers are seldom produced. Making them into commercial products would require the resources of major international corporations, which is clearly beyond most researchers’ powers.16 Evaluating constructive design research by whether it leads to products is unfair, especially when researchers are faced with “wicked” issues that can hardly be solved by anyone"
            },
            {
                title: "Making Imagination Tangible: Workshops and Studios in Research",
                content: "Another design-specific characteristic of constructive design research is that it builds things, which is reflected in its infra structure. Typically, this infrastructure consists of comfortable studio-like places that house discussions and create concepts and goes all the way to workshops with heavy machinery as well as computer and electronics labs. In these places, ideas are made tangible, first with cheap mate rials like scrap wood, scrap metal, or foam, or in the case of soft ware, programs in some test environment. Just as in any sandbox, iteration goes on until something survives critique. In this work, analysis and reasoning are important, but equally important is design experience, whether it is based on emotions, feelings, or intuition.17 This work may start from theories, methods, and field work findings, and just as often it begins with playing with materi als, technology, and design precedents. Over time, this culture creates a stockpile of concepts, designs, technologies, platforms, and stories that carry the culture and give it a distinctive flair. Without this culture of doing, many things of inter est to designers would go unnoticed.18 What would specifically be lost are those visual, material, and cultural and historical sensitivi ties Sharon Poggenpohl sees as essential to design.19 Designers have to worry about things like how some material feels, how some angle f lows gracefully over an edge, or how interaction works. In an extreme form, this kind of culture has existed in places like the MIT Media Lab. In its hacker culture, doing has always been more important than reflection. This culture aims at push ing technologies to the extreme and finding ways to do things previously regarded to be impossible. However, the culture comes under various names such as innovation in Stanford’s “d.school,” the quality in interaction in Technische Universiteit Eindhoven, or simply education and teaching design skills in places like IO Studiolab at Technical University of Delft and Aalto University’s Department of Design.20 Sometimes the culture is not bound to one place but to a regional network, as in Lombardy, where designers have explored design possibilities with industry through prototypes, one-offs, and limited editions.21 Invariably, there is a “community of prac titioners” with a variety of skills in doing, critique, and theory that keep the culture going (Figure 3.3).22 Workshops and studios are necessary, but are not the right condition for a healthy constructive design research program. A program may be successful for a few years if it hits the right tech nological or political gold mine. However, when returns from this mine get leaner, this model faces difficulties. For example, during research on tangible interaction the MIT Media Lab was followed globally, but now this following is far less extensive. Although researchers continue producing interesting prototypes, the Media Lab produces new thinking at a far slower pace."
            },
            {
                title: "How Constructive Design Research Produces Meaning",
                content: "That constructive design research is grounded in imagina tion is also reflected in how researchers understand their con tribution. Andrea Branzi wrote that the task of design research is to keep distance from the “pure practice of building.”23 For him, design in second modernity should offer alternatives rather than try to alter reality directly. No doubt, most constructive design researchers agreed with him when he wrote: The architectural or design project today is no longer an act intended to alter reality, pushing it in the direction of order and logic. Instead the project is an act of invention that creates some thing to be added on to existing reality, increasing its depth and multiplying the number of choices available.24 Here designers can learn from architecture. As Peter Hall notes following Cranbrook’s Scott Klinker, architecture has a rich body of discourse based on hypothetical designs.25 This is also the case with design, even though hypothetical products tend to play a less prominent role in it than in architecture, where most plans are never realized.26 Plainly, if hypothetical designs are suc cessful, they may change the ways in which people think about material and social reality. They can open up possibilities and prepare action. Having a discourse based on hypothetical designs has sev eral consequences: it enriches imagination and opens new ways of seeing and discussing opportunities.27 It also provides exem plars and precedents that may be useful when new problems and opportunities emerge. This discourse may sound like art, but it may also provide important preparation for the future, much as a play prepares children for their later years. Design has many types of hypothetical discourses, many of which have commercial roots. As Anthony Dunne and Fiona Raby wrote: Critical design, or design that asks carefully crafted questions and makes us think, is just as difficult and just as important as design that solves problems or finds answers. Being provocative and chal lenging might seem like an obvious role for art, but art is far too removed from the world of mass consumption … to be effective…. There is a place for a form of design that pushes the cultural and aesthetic potential and role of electronic products and services to its limits…. Critical design is related to haute couture, concept cars, design propaganda, and visions of the future, but its purpose is not to present the dream of industry, attract new business, anticipate new trends or test the market. Its purpose is to stimulate discussion and debate amongst designers, industry, and the public.28 Not only critical designers propose alternatives to the pres ent. When Philips hired Stefano Marzano to lead its design team in the mid-1990s, one of his first initiatives was a visionary pro cess called Vision of the Future (Philips Design, 1995). The aim of the project was to re-imagine products rather than create science f iction like new worlds. It was design fiction, based on the idea that it is important not to accept existing economic and techni cal constraints. The results were a book, a Web page, and a series of traveling exhibitions focusing on themes like the kitchen. The aims of the project were very different from those of Dunne and Raby’s critical design: Vision of the Future and several other proj ects re-imagined better futures instead of trying to disrupt exist ing ones. Still, for a company like Philips, this was an exceptional move. Since then, many companies have done projects like these. Perhaps most famous of these is Alessi.29 Needless to say, there are many ways to construct and under stand such alternative discourses (see Figure 3.4). Some of these discourses try to alter and redo existing products such as con cept cars, haute couture, or Droog Design."
            }
        ]
    },
    {
        title: "Chapter 4: LAB: CAN YOU REALLY STUDY DESIGN IN THE LABORATORY?",
        pages: [
            {
                title: "Manjana",
                content: "The sociologist Morris Zelditch, Jr., once published a paper called “Can You Really Study the Army in the Laboratory?”1 Under this provocative title, he wrote about the limitations of study ing large institutions in a laboratory. Zelditch’s answer was yes, if the study is done with care. This chapter shows that this is true in design as well.2 It is impossible to study a phenomenon like design in the laboratory in its entirety; design has many faces, only some of which are appropriate for laboratory studies. The trick, however, is to see which ones are.3 The historical foundations of this methodology are in the nat ural sciences, but it usually comes to design through psychology. The aim is to identify relationships designers might find inter esting; for example, how the limits of human cognitive process ing capabilities affect error rates in using tablet computers. The design justification for this methodology is straightforward: if such relationships were found, they could be turned into math ematical formulas that would provide a solid ground for design.4 This chapter is about the logic of laboratory studies.5 Actual research tends to be impure in terms of logic; in particular, early stage user studies aiming at inspiration tend to be done with probes and contextual inquiries. They are qualitative and inspi ration-oriented and are typically combined with laboratory-style studies. For example, Stephan Wensveen used cultural probes for inspiration in the early stages of his research.6 Experimental work typically happens in concept testing and selection and in the evaluation phase of the prototypes. Although the ethos of this tradition comes from experimental psychology, researchers bor row from other ways of doing to complement it."
            },
            {
                title: "Rich Interaction: Building a Tangible Camera",
                content: "Our example is from Technische Universiteit Eindhoven, where Joep Frens designed a camera with a rich interaction user interface and compared it to conventional cameras. The standard interaction approach in industry is based on a menu on a screen, which can be navigated with buttons. Frens aimed at creating an alternative to this standard approach. While conventional digital cameras typically have controls based on buttons and menus on screen, rich interaction cam eras had tangible controls. For example, with a rich interaction camera, the photographer could take a picture by pushing a trig ger and save it by pushing the screen toward the memory card. To delete it, he had to push the screen back to the lens. Frens designed these unconventional forms, interactions, and func tions so that the photographer could read the possibilities for action and function from the form (Figure 4.1). Building on ecological psychology and literature on tangible interaction, Frens created a series of hypotheses for each cam era variation to be able to compare user experience. Frens’ main hypothesis was that a rich interaction camera is more intuitive to use than a conventional camera. Another hypothesis was that people think it is more beautiful. The cameras were stimuli in his study; measures for things like use and beauty came from Marc Hassenzahl, a German design psychologist.7 Frens’ design process was driven by a wish to find alternatives for the prevalent industrial interaction paradigm for cameras. His inspiration came from his knowledge of trends in interaction design and from his background research, not from user studies. Research questions, hypotheses, and the rich interaction frame work came after the first designs, and they were based on the insights gained during the design process (Figures 4.2 and 4.3)."
            },
            {
                title: "Laboratory as a Site of Knowledge",
                content: "Studying things in a laboratory means that something is taken out from its natural environment and brought into a controlled area where it can be subjected to experimentation. Almost any thing can be studied in the laboratory: armies, design, chemical reactions, rich interaction, and so forth. The trouble with studying a phenomenon in the real world is that usually many things shape it. This makes it difficult to find what causes something one sees; there are typically several possi ble explanations, and it is impossible to rule any of them out with a high degree of certainty. Research becomes an exercise in “what about if.…” Studying a phenomenon in a laboratory helps with this problem. The laboratory gives the researchers an opportunity to focus on one thing at a time. Most typically, this “thing” is a relationship, such as the relationship of rich interaction and user experience in Joep Frens’ study. The laboratory also helps researchers study alternative explanations and competing hypotheses; doing this is far more dif ficult in natural settings. After researchers have eliminated alterna tive explanations, they are able to confidently say things about how rich interaction improves user experience in camera design. It is possible that the results are wrong, but this is highly unlikely. Working in a laboratory has many other benefits. For example, a laboratory can be equipped with instruments that help make detailed and accurate observations and measurements. What is of the utmost importance, we think, when testing the varia tions, is that the user’s actions on the prototype are recorded. We need a trace of the actual interaction, as it is done as soon as one stops to interact. The recordings of setting the alarm clock enabled us to recon struct step by step how a, e.g., symmetrical pattern was constructed.11 As the laboratory environment and experiments are typically documented in detail, it is also possible to replicate the study in other laboratories. This rules out errors coming from the setting and its research culture. This also applies to issues like “observer effects” — the researcher giving people cues about his intentions. If people understand a researcher’s intentions, they may change their behavior to please or to confuse the researcher. There has to be a proper strategy to deal with these effects.12 Most threats to validity are beyond this book. For example, to see how things.."
            }
        ]
    }
    // Add more chapters as needed
];

let currentChapterIndex = 0;
let currentPageIndex = 0;

function displayPage(chapterIndex, pageIndex) {
    const chapter = chaptersData[chapterIndex];
    const bookContainer = document.getElementById("book-container");

    // Clear the book container
    bookContainer.innerHTML = "";

    // Create a new chapter element for the first page of each chapter
    const chapterElement = document.createElement("div");
    chapterElement.classList.add("section");
    chapterElement.innerHTML = `<h2>${chapter.title}</h2>`;
    bookContainer.appendChild(chapterElement);

    // Create the page element with initial opacity set to 0
    const pageElement = document.createElement("div");
    pageElement.classList.add("page");
    const currentPage = chapter.pages[pageIndex];
    pageElement.innerHTML = `<h3>${currentPage.title}</h3><p>${currentPage.content}</p>`;
    pageElement.style.opacity = 0;

    // Append the page to the book container
    bookContainer.appendChild(pageElement);

    // Adding a class to trigger CSS animations and fade in the page
    setTimeout(() => {
        pageElement.classList.add("active");
    }, 100); // Adding a slight delay to ensure the class is added after the page is appended

    // Ensure opacity is set to 1 after animation completes
    setTimeout(() => {
        pageElement.style.opacity = 1;
    }, 1100); // Set opacity to 1 after 1 second (adjust as needed based on animation duration)

    // Update the progress bar based on the current page index within the chapter
    updateProgressBar(chapterIndex, pageIndex);

    // Add a class to the active step block
    const activeStepBlock = document.querySelector('.step-block.active');
    if (activeStepBlock) {
        activeStepBlock.classList.remove('active');
    }
    const currentStepBlock = document.querySelector(`.step-block__${chapterIndex + 1}`);
    currentStepBlock.classList.add('active');
}

function updateProgressBar(chapterIndex, pageIndex) {
    const totalChapters = chaptersData.length;
    const chapter = chaptersData[chapterIndex];
    const totalPages = chapter.pages.length;
    const progress = ((pageIndex + 1) / totalPages) * 100; // Calculate progress percentage

    // Select the step corresponding to the current chapter
    const step = document.querySelector(`.step-block__${chapterIndex + 1}`);

    // Update the width of the progress bar inner element
    const progressBarInner = step.querySelector('.step-block__progress-bar-inner');
    progressBarInner.style.width = progress + "%";
}


// Call updateProgressBar when moving to a new chapter
function moveToNextSection() {
    if (currentPageIndex < chaptersData[currentChapterIndex].pages.length - 1) {
        currentPageIndex++;
        displayPage(currentChapterIndex, currentPageIndex);
    } else if (currentChapterIndex < chaptersData.length - 1) {
        currentChapterIndex++;
        currentPageIndex = 0;
        displayPage(currentChapterIndex, currentPageIndex);
    } else {
        console.error("No more chapters or pages found.");
    }
}

function moveToPreviousSection() {
    if (currentPageIndex > 0) {
        currentPageIndex--;
        displayPage(currentChapterIndex, currentPageIndex);
    } else if (currentChapterIndex > 0) {
        currentChapterIndex--;
        currentPageIndex = chaptersData[currentChapterIndex].pages.length - 1;
        displayPage(currentChapterIndex, currentPageIndex);
    } else {
        console.error("No previous chapters or pages found.");
    }
}

document.addEventListener("keydown", function(event) {
    switch(event.keyCode) {
        case 40: // Down arrow
            moveToNextSection();
            break;
        case 38: // Up arrow
            moveToPreviousSection();
            break;
    }
});

// Initial display
displayPage(currentChapterIndex, currentPageIndex);
